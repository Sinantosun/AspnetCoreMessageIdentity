@using AspnetCoreMessageIdentity.DAL.Entities;
@model List<Mails>
@{
    string cardCss = "";

}
@if (Model.Count > 0)
{

    <div class="col-lg-9 animated fadeInRight">
        <div class="mail-box-header">

            <h2>
                <i class="fa fa-envelope" aria-hidden="true"></i>     Mesajlarım (@Model.Count())
            </h2>
            <div class="mail-tools tooltip-demo m-t-md">
                <div class="btn-group float-right">

                    @*   buraya paged list gelecek *@


                </div>
                <button class="btn btn-white btn-sm" data-toggle="tooltip" data-placement="left" title="Mesajları yenile"><i class="fa fa-refresh"></i> Yenile</button>
                <button class="btn btn-white btn-sm" data-toggle="tooltip" data-placement="top" title="Okundu olarak işaretle"><i class="fa fa-eye"></i> </button>
                <button class="btn btn-white btn-sm" data-toggle="tooltip" data-placement="top" title="Önemli Olarak işaretle"><i class="fa fa-exclamation"></i> </button>
                <button class="btn btn-white btn-sm" data-toggle="tooltip" data-placement="top" title="Çöp Kutusuna Taşı"><i class="fa fa-trash-o"></i> </button>

            </div>
        </div>
        <div class="mail-box">

            <table class="table table-hover table-mail">
                <tbody>
                    @foreach (var item in Model)
                    {

                        @if (item.IsRead)
                        {
                            cardCss = "read";
                        }
                        else
                        {
                            cardCss = "unread";
                        }
                        <tr class="@cardCss">
                            <td class="check-mail">
                                <input type="checkbox" class="i-checks">
                            </td>
                            <td class="mail-ontact"><i class="fa fa-user text-primary" aria-hidden="true"></i> <a href="/MailboxDetail/Index/@item.MailsId">&nbsp; @item.Sender.NameSurname</a></td>
                            <td class="mail-subject"><a href="/MailboxDetail/Index/@item.MailsId"><i class="fa fa-envelope-o" aria-hidden="true"></i>&nbsp; @item.Subject</a></td>
                            @if (item.Attachment != null)
                            {
                                <td><i class="fa fa-paperclip"></i></td>
                            } @if (item.IsImportant)
                            {
                                <td><i class="fa fa-exclamation text-danger" aria-hidden="true"></i>&nbsp; Önemli Seviye</td>
                            }
                            @if (ViewBag.FindForwad != null)
                            {
                                <td class="text-right mail-date">Bu mesaj size <span style="text-transform:capitalize; font-weight:bold">@ViewBag.FindForwad.SenderUser.NameSurname</span> tarafından iletildi.</td>
                            }
                            <td class="text-right mail-date"><i class="fa fa-calendar" aria-hidden="true"></i>&nbsp; @(((DateTime)item.Date).ToString("f"))</td>

                        </tr>
                    }

                </tbody>
            </table>


        </div>
    </div>
}
else
{
       <div class="col-lg-9 animated fadeInRight">
        <div class="mail-box-header">

            <h2>
                Henüz Hiç Mesajınız yok
            </h2>
        </div>
    </div>
   
    

}
